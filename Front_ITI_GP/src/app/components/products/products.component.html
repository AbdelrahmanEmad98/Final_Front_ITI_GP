<section id="collection" class="py-5">
  <!-- <div class="col-md-3 mb-3 ms-auto">
    <div class="input-group position-relative">
      <input class="form-control py-2 rounded-pill mr-1 pr-5" type="search" placeholder="Search Products..."
        id="example-search-input" [(ngModel)]="searchKey" />
      <span class="input-group-append" style="margin-left: 0">
        <button class="btn rounded-pill border-0 ml-n5 position-absolute" type="button"
          style="right: 1px; top: 3px; background-color: #eee">
          <i class="bi bi-search"></i>
        </button>
      </span>
    </div>
  </div> -->
  <div class="container" id="tab">
    <div class="row justify-content-center">
      <div class="col-3">
        <button class="btn m-3" (click)="GetAll()">All Products</button>
      </div>
      <div class="col-6">
        <ul class="nav nav-tabs d-flex justify-content-center border-0 collection-tabs">
          <li class="nav-item" *ngFor="let category of subCategories">
            <button #sub class="btn m-3" value="{{category.id}}" (click)="getProductsbyCategory(sub.value)">{{
              category.name }}</button>
          </li>
        </ul>
      </div>
    </div>
    <!-- <div class="row tab-content">
      <h1 class="col-3">filter</h1>
      <div class="col-9 text-center">
        <div class="mt-4" *ngIf="items">
          <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-12 mb-3 mt-3" *ngFor="
                let product of items
                  | paginate
                    : {
                        id: 'list_pagination',
                        itemsPerPage: counterPerPage,
                        currentPage: page,
                        totalItems: totalCount
                      }
              "> -->
    <div class="container">
      <div class="row justify-content-center">
        <div class="card col-3 p-0 me-1" *ngFor="let product of productsofSub">
          <div class="bg-image hover-overlay ripple col-12" data-mdb-ripple-color="light">
            <img src="{{product.productImages[0].imageURL}}" class="img-fluid" />
          </div>
          <div class="card-body">
            <h2 class="card-title">{{product.name}}</h2>
            <div class="row">
              <p class="h5 -2 col-6">{{product.price*(1-product.discount) | number:'1.0-2'}} EGP</p>
              <div *ngIf="product.discount>0" class="col-6">
                <p class="h5 py-2 text-decoration-line-through text-danger m-0">
                  {{product.price | number:'1.0-2'}} EGP</p>
              </div>
            </div>
            <a routerLink="/products/Details/{{ product.id }}" class="btn btn-primary">Details</a>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="text-center">
    <pagination-controls id="list_pagination" (pageChange)="getProducts($event)" previousLabel="&lsaquo;"
      nextLabel="&rsaquo;" class="my-pagination"></pagination-controls>
  </div>  -->
  </div>
</section>