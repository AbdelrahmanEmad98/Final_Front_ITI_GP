<div class="container">
  <div class="row">
    <div  class="col-lg-6 mx-auto" style="width: 400px;">
      <h1>Reset Password</h1>
      <div class="card mb-2">
        <div class="card-body">
          <form class="row g-3 needs-validation" [formGroup]="passFrm" (ngSubmit)="ChangePassword()">
          <input type="text" class="form-control col-md-8 d-none"  id="id" disable>

           <!-- =================================================== -->
            <div class="col-md-12">

              <label for="password" class="form-label">Current Password</label>
              <div class="input-group">
              <input #password formControlName="password" (keypress)="keyPressMinLength($event,50)" type="{{ p ? 'text':'password' }}" class="form-control" id="password" placeholder="Password" required>

                <span class="input-group-text" (click)="togglePassword('p')">
                  <i [ngClass]="p ? 'fa fa-eye':'fa fa-eye-slash'" id="togglePassword"></i>
                </span>
              </div>
              <div class="form-control-feedback"
                *ngIf="passFrm.get('password')?.errors && (passFrm.get('password')?.dirty || passFrm.get('password')?.touched)">
                <p *ngIf="passFrm?.get('password')?.errors?.['required']" class="text-danger">password is required</p>
                <p *ngIf="passFrm?.get('password')?.errors?.['minlength']" class="text-danger">password must have length more than 7</p>
              </div>
            </div>

             <!-- =================================================== -->
             <div class="col-md-12">

              <label for="npassword" class="form-label">New Password</label>
              <div class="input-group">
              <input #npassword formControlName="npassword" (keypress)="keyPressMinLength($event,50)" type="{{ np ? 'text':'password' }}" class="form-control" id="npassword" placeholder="New Password" required>

                <span class="input-group-text" (click)="togglePassword('np')">
                  <i [ngClass]="np ? 'fa fa-eye':'fa fa-eye-slash'" id="togglePassword"></i>
                </span>
              </div>
              <div class="form-control-feedback"
                *ngIf="passFrm.get('npassword')?.errors && (passFrm.get('npassword')?.dirty || passFrm.get('npassword')?.touched)">
                <p *ngIf="passFrm?.get('npassword')?.errors?.['required']" class="text-danger">password is required</p>
                <p *ngIf="passFrm?.get('npassword')?.errors?.['minlength']" class="text-danger">password must have length more than 7</p>
              </div>
            </div>

             <!-- =================================================== -->
             <div class="col-md-12">

              <label for="cpassword" class="form-label">Confirm Password</label>
              <div class="input-group">
              <input #cpassword formControlName="cpassword"  (keyup)="validatePassword()" (keypress)="keyPressMinLength($event,50)" type="{{ cp ? 'text':'password' }}"  class="form-control" id="cpassword" placeholder="Confirm Password" required>

                <span class="input-group-text" (click)="togglePassword('cp')">
                  <i [ngClass]="cp? 'fa fa-eye':'fa fa-eye-slash'" id="togglePassword"></i>
                </span>

              </div>
              <div class="form-control-feedback">

              <span class="form-control-feedback" *ngIf="passFrm.get('cpassword')?.touched && passFrm.get('cpassword')?.invalid" style="color: red;">â˜’ Use same password</span>
              <span class="form-control-feedback" *ngIf="passFrm.get('cpassword')?.touched && passFrm.get('cpassword')?.valid" style="color: green;">ðŸ—¹ Password Matched</span>
                </div>
            </div>
            <div class="col-12 text-end">
              <button class="btn btn-primary" type="submit">Submit</button>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>
 <!-- =================================================== -->

<div class="modal" tabindex="-1" role="dialog" [ngClass]="displayAlert">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"> {{ FlagError ? 'Alert' : 'Done' }}</h4>
      </div>
      <div class="modal-body">
        {{ message }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" (click)="closePopup()">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
